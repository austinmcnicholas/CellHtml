{"version":3,"sources":["webpack:///webpack/bootstrap 13684ab1e6e4f986d6fa","webpack:///external \"dojo/Deferred\"","webpack:///external \"dojo/_base/lang\"","webpack:///./node_modules/widget-base-helpers/helpers/index.js","webpack:///external \"dijit/registry\"","webpack:///external \"dojo/query\"","webpack:///./src/CellHtml/widget/CellHtml.js","webpack:///./node_modules/widget-base-helpers/index.js","webpack:///./node_modules/widget-base-helpers/helpers/define-widget.js","webpack:///external \"dojo/_base/declare\"","webpack:///external \"mxui/widget/_WidgetBase\"","webpack:///external \"dijit/_TemplatedMixin\"","webpack:///./node_modules/widget-base-helpers/helpers/data.js","webpack:///./node_modules/widget-base-helpers/helpers/microflow.js","webpack:///./node_modules/widget-base-helpers/helpers/dom.js","webpack:///external \"dojo/_base/array\"","webpack:///external \"dojo/NodeList-traverse\"","webpack:///external \"dojo/aspect\"","webpack:///external \"dojo/dom-construct\""],"names":["log","methodName","arguments","args","Array","prototype","slice","call","id","logger","debug","length","runCallback","cb","from","getMendixVersion","deferred","Deferred","mx","version","resolve","split","versionObject","major","parseInt","minor","path","error","console","warn","promise","defineWidget","_obj","_grid","constructor","bind","postCreate","_WIDGET_VERSION","update","obj","callback","_contextObj","_gridNode","findElement","gridName","domNode","parentNode","registry","byNode","aspect","after","_applyHtml","col","rowObj","_dataSource","_pageObjs","rowId","getRowForMxObject","rowNode","_gridRowNodes","columns","nodeToApply","columnName","query","_handleResults","html","_evalNanoFlow","nanoflow","context","mendix","lib","MxContext","setTrackObject","window","data","callNanoflow","origin","mxform","column","param","htmlStr","params","name","join","get","valueAttr","nodeToRemove","construct","destroy","create","innerHTML","className","position","isArray","arg","Object","toString","template","base","configParam","widgetConfig","config","packageName","widgetFolder","Error","widgetObj","baseID","_WIDGET_BASE_ID","mixins","forEach","mixin","push","widgetBase","templateMixin","templateString","declare","getData","getParams","lang","reject","e","fetchAttr","attr","fetch","val","commitData","commitParams","commit","execute","microflow","guid","errCb","action","actionname","applyto","guids","hitch","res","ui","message","store","caller","executePromise","_getClassNameByMxName","elementName","trim","_compareClass","widget","class","indexOf","_compareFriendlyId","widgetName","friendlyId","findWidgetByClass","findWidget","dojoArray","filter","toArray","findWidgetByFriendlyId","findWidgetByName","findElementByName","cssSelector","strict","index","target","isDescendant","child","node"],"mappings":"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","file":"CellHtml/widget/CellHtml.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 13684ab1e6e4f986d6fa","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dojo/Deferred\"\n// module id = 0\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dojo/_base/lang\"\n// module id = 1\n// module chunks = 0","/*eslint no-invalid-this: 0*/\nimport Deferred from 'dojo/Deferred';\n\n/**\n * Logs using the Mendix logger\n *\n * @param {string} methodName\n * @param {...any} args\n * @returns void\n */\nexport function log() {\n    const methodName = arguments[ 0 ];\n    const args = Array.prototype.slice.call(arguments, 1);\n    if (this.id) {\n        logger.debug(this.id + '.' + methodName, args && args.length ? args[ 0 ] : '');\n    } else {\n        logger.debug(methodName, args && args.length ? args[ 0 ] : '');\n    }\n}\n\n/**\n * Runs a callback and logs the method where it comes from\n *\n * @param {Function} cb\n * @param {string} [from] Log from where the callback was triggered\n * @return void\n */\nexport function runCallback(cb, from) {\n    log.call(this, '_callback', from ? 'from ' + from : '');\n    if (cb && 'function' === typeof cb) {\n        cb();\n    }\n}\n\n/**\n * Returns a Promise that either contains null, or an object containing the major, minor & patch version of the Mendix runtime\n *\n * @returns Promise\n */\nexport const getMendixVersion = () => {\n    const deferred = new Deferred();\n\n    if (!mx.version) {\n        deferred.resolve(null);\n    } else {\n        try {\n            const version = mx.version.split('.');\n            const versionObject = {\n                major: parseInt(version[ 0 ], 10),\n                minor: parseInt(version[ 1 ], 10),\n                path: parseInt(version[ 2 ], 10),\n            };\n            deferred.resolve(versionObject);\n        } catch (error) {\n            console.warn('getMendixVersion error:', error);\n            deferred.resolve(null);\n        }\n    }\n\n    return deferred.promise;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/widget-base-helpers/helpers/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dijit/registry\"\n// module id = 3\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dojo/query\"\n// module id = 4\n// module chunks = 0","import {\r\n    defineWidget,\r\n    log,\r\n    runCallback,\r\n    findElement,\r\n} from 'widget-base-helpers';\r\n\r\n//import domClass from 'dojo/dom-class';\r\nimport query from 'dojo/query';\r\nimport aspect from 'dojo/aspect';\r\nimport construct from 'dojo/dom-construct';\r\nimport registry from 'dijit/registry';\r\n\r\nexport default defineWidget('CellHtml', false, {\r\n\r\n    _obj: null,\r\n    _grid: null,\r\n\r\n    constructor() {\r\n        this.log = log.bind(this);\r\n        this.runCallback = runCallback.bind(this);\r\n    },\r\n\r\n    postCreate() {\r\n        log.call(this, 'postCreate', this._WIDGET_VERSION);\r\n    },\r\n\r\n    update(obj, callback) {\r\n        if (obj) {\r\n            this._contextObj = obj;\r\n        }\r\n\r\n        this._gridNode = findElement(\".mx-name-\" + this.gridName, this.domNode.parentNode);\r\n        this._grid = registry.byNode(this._gridNode);\r\n        aspect.after(this._grid, \"refreshGrid\", this._applyHtml.bind(this));\r\n\r\n        if(callback) {callback();}\r\n    },\r\n    _applyHtml() {\r\n        let col, rowObj;\r\n        for (rowObj of this._grid._dataSource._pageObjs) {\r\n            const rowId = this._grid.getRowForMxObject(rowObj);\r\n            const rowNode = this._grid._gridRowNodes[ rowId ];\r\n            for (col of this.columns) {\r\n                const nodeToApply = col.columnName ? query(\".mx-name-\" + col.columnName, rowNode)[ 0 ] : null;\r\n                this._handleResults(col.html, nodeToApply, col, rowObj);\r\n            }\r\n        }\r\n    },\r\n    _evalNanoFlow(nanoflow, obj, callback) {\r\n        const context = new mendix.lib.MxContext();\r\n        context.setTrackObject(obj);\r\n        window.mx.data.callNanoflow({\r\n            nanoflow: nanoflow,\r\n            context: context,\r\n            origin: this.mxform,\r\n            callback: callback,\r\n            error: function(){console.error(\"Unable to execute rule nanoflow\");},\r\n        });\r\n    },\r\n\r\n    _handleResults(html, nodeToApply, column, rowObj) {\r\n        //let newNode;\r\n        let param, htmlStr;\r\n        if (!nodeToApply || !rowObj) {\r\n            return;\r\n        }\r\n\r\n        if (html) {\r\n            for (param of this.params) {\r\n                htmlStr = html.split(\"${\" + param.name + \"}\").join(rowObj.get(param.valueAttr));\r\n            }\r\n            const nodeToRemove = query(\".\" + column.columnName + \"-html\", nodeToApply)[ 0 ];\r\n            if (nodeToRemove) {\r\n                construct.destroy(nodeToRemove);\r\n            }\r\n            construct.create(\"div\", { innerHTML: htmlStr, className: column.columnName + '-html' }, nodeToApply, column.position);\r\n        }\r\n    },\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/CellHtml/widget/CellHtml.js","export * from './helpers/define-widget';\nexport * from './helpers/data';\nexport * from './helpers';\nexport * from './helpers/microflow';\nexport * from './helpers/dom';\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/widget-base-helpers/index.js","import declare from 'dojoBaseDeclare';\nimport widgetBase from 'widgetBase';\nimport templateMixin from 'dijit/_TemplatedMixin';\n\nconst isArray = arg => {\n    if (Array.isArray) {\n        return Array.isArray(arg);\n    }\n    return '[object Array]' === Object.prototype.toString.call(arg);\n};\n\n// const { packageName, version, widgetFolder } = config;\n\n/**\n * Defines a widget. Use this when you have multiple sub widgets. For a single widget this might be overkill\n *\n * @param {string} id Widget id. This is a partial ID, the full ID has the package and widget folder in it as well\n * @param {(string|null)} template Template used by the widget\n * @param {Object} obj Object that extends the base\n * @param {any} [base] Basis of the widget. When omitted, this will use the normal _widgetBase defined by Mendix\n * @param {Object} [configParam] Optional configuration, will take the configuration from Webpack normally\n * @returns {Function} Widget Constructor\n */\nexport function defineWidget(id, template, obj, base, configParam) {\n    const widgetConfig = config || configParam;\n    let packageName;\n    let version;\n    let widgetFolder;\n\n    if ('undefined' !== typeof widgetConfig) {\n        packageName = widgetConfig.packageName;\n        version = widgetConfig.version;\n        widgetFolder = widgetConfig.widgetFolder;\n    } else {\n        throw new Error('Widget needs a config! Please check your source code!');\n    }\n\n    const widgetObj = obj;\n    const baseID = packageName + '.' + ('' !== widgetFolder ? widgetFolder + '.' : '') + id;\n\n    widgetObj._WIDGET_VERSION = version;\n    widgetObj._WIDGET_BASE_ID = baseID;\n\n    const mixins = [];\n    if ('undefined' !== typeof base && null !== base) {\n        if (isArray(base)) {\n            base.forEach(function (mixin) {\n                mixins.push(mixin);\n            });\n        } else {\n            mixins.push(base);\n        }\n    } else {\n        mixins.push(widgetBase);\n    }\n\n    if (template) {\n        mixins.push(templateMixin);\n        if ('boolean' !== typeof template){\n            widgetObj.templateString = template;\n        }\n    }\n\n    return declare(baseID, mixins, widgetObj);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/widget-base-helpers/helpers/define-widget.js","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dojo/_base/declare\"\n// module id = 8\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mxui/widget/_WidgetBase\"\n// module id = 9\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_10__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dijit/_TemplatedMixin\"\n// module id = 10\n// module chunks = 0","import Deferred from 'dojo/Deferred';\nimport lang from 'dojo/_base/lang';\n\n/**\n * Get Mendix data\n *\n * @param {Object} params Get parameters, see https://apidocs.mendix.com/7/client/mx.data.html#.get\n * @param {string} [params.guid]\n * @param {string[]} [params.guids]\n * @param {string} [params.xpath]\n * @param {string} [params.microflow]\n * @param {string} [params.path]\n * @param {boolean} [params.count]\n * @param {Object} [params.filter]\n * @param {string[]} [params.filter.attributes]\n * @param {number} [params.filter.offset]\n * @param {string[][]} [params.filter.sort]\n * @param {number} [params.filter.amount]\n * @param {boolean} [params.filter.distinct]\n * @param {Object} [params.filter.references]\n * @returns Promise\n */\nexport const getData = params => {\n    const deferred = new Deferred();\n    const getParams = lang.mixin({\n        callback: deferred.resolve,\n        error: deferred.reject,\n    }, params);\n    try {\n        mx.data.get(getParams);\n    } catch (e) {\n        deferred.reject(e);\n    }\n\n    return deferred.promise;\n};\n\n/**\n * Fetch an attribute from a Mendix Object\n *\n * @param {Object} obj Mendix object\n * @param {string} attr Attribute\n * @returns Promise\n */\nexport const fetchAttr = (obj, attr) => {\n    const deferred = new Deferred();\n    try {\n        obj.fetch(attr, val => deferred.resolve(val));\n    } catch (e) {\n        deferred.reject(e);\n    }\n    return deferred.promise;\n};\n\n/**\n * Commit, see https://apidocs.mendix.com/7/client/mx.data.html#.commit\n *\n * @param {Object} params\n * @param {Object} [params.mxobj]\n * @param {Object[]} [params.mxobjs]\n * @returns Promise\n */\nexport const commitData = params => {\n    const deferred = new Deferred();\n    const commitParams = lang.mixin({\n        callback: deferred.resolve,\n        error: deferred.reject,\n    }, params);\n    try {\n        mx.data.commit(commitParams);\n    } catch (e) {\n        deferred.reject(e);\n    }\n\n    return deferred.promise;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/widget-base-helpers/helpers/data.js","/*eslint no-invalid-this: 0*/\nimport lang from 'dojo/_base/lang';\nimport {log} from './index';\nimport Deferred from 'dojo/Deferred';\n\n/**\n * Run a microflow\n *\n * @param {string} microflow Microflow name\n * @param {string|null} guid GUID of the Mendix Object that is passed to the microflow\n * @param {Function} [cb] callback function\n * @param {Function} [errCb] error function\n * @returns void\n */\nexport function execute(microflow, guid, cb, errCb) {\n    if (microflow) {\n        log.call(this, 'execute microflow', 'mf: ' + microflow + ':' + guid);\n        const action = {\n            params: {\n                actionname: microflow,\n                applyto: 'selection',\n                guids: [],\n            },\n            callback: lang.hitch(this, res => {\n                if (cb && 'function' == typeof cb) {\n                    cb(res);\n                }\n            }),\n            error: lang.hitch(this, error => {\n                if (errCb && 'function' == typeof errCb) {\n                    errCb(error);\n                } else {\n                    mx.ui.error('Error executing microflow ' + microflow + ' : ' + error.message);\n                    console.error(this.id + '._execMf', error);\n                }\n            }),\n        };\n\n        if (guid) {\n            action.params.guids = [guid];\n        }\n\n        if (!mx.version || mx.version && 7 > parseInt(mx.version.split('.')[ 0 ], 10)) {\n            action.store = {\n                caller: this.mxform,\n            };\n        } else {\n            action.origin = this.mxform;\n        }\n\n        mx.data.action(action, this);\n    }\n}\n\n/**\n * Run a microflow as a promise\n *\n * @param {string} microflow Microflow name\n * @param {string} [guid] Guid of Mendix object that is passed to the microflow\n * @returns Promise\n */\nexport function executePromise(microflow, guid) {\n    const deferred = new Deferred();\n\n    execute.call(this, microflow, guid, deferred.resolve, deferred.reject);\n\n    return deferred.promise;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/widget-base-helpers/helpers/microflow.js","import registry from 'dijit/registry';\nimport dojoArray from 'dojo/_base/array';\nimport query from 'dojo/query';\nimport 'dojo/NodeList-traverse';\n\nfunction _getClassNameByMxName(elementName) {\n    return ('mx-name-' + elementName).trim();\n}\n\nfunction _compareClass(className) {\n    return widget => widget.class &&\n    -1 !== widget.class.indexOf(className);\n}\n\nfunction _compareFriendlyId(widgetName) {\n    return widget => {\n        const id = widget.friendlyId.split('.').slice(-1)[ 0 ];\n        return id === widgetName;\n    };\n}\n\n/**\n * Find widget by class name\n *\n * @param {string} className Class of the widget\n * @returns {(Object|null)} The found widget or null\n */\nexport function findWidgetByClass(className) {\n    const findWidget = dojoArray.filter(\n        registry.toArray(),\n        _compareClass(className)\n    );\n    return 0 === findWidget.length ? null : findWidget[ 0 ];\n}\n\n/**\n * Find widget by friendly ID name\n *\n * @param {string} widgetName Name of the widget\n * @returns {(Object|null)} The found widget or null\n */\nexport function findWidgetByFriendlyId(widgetName) {\n    const findWidget = dojoArray.filter(\n        registry.toArray(),\n        _compareFriendlyId(widgetName)\n    );\n    return 0 === findWidget.length ? null : findWidget[ 0 ];\n}\n\n/**\n * Find widget by Mendix name\n *\n * @param {string} widgetName Name of the widget\n * @returns {(Object|null)} The found widget or null\n */\nexport function findWidgetByName(widgetName) {\n    return findWidgetByClass(_getClassNameByMxName(widgetName));\n}\n\n/**\n * Find element by Mendix name\n *\n * @param {string} elementName Name of the element\n * @returns {(HTMLElement|null)} The found element\n */\nexport function findElementByName(elementName) {\n    return findElement('.' + _getClassNameByMxName(elementName));\n}\n\n/**\n * Find element using dojo/query\n *\n * @param {string} cssSelector CSS Selector\n * @param {HTMLElement} [parentNode] (optional) parent node\n * @param {boolean} strict Should the function return only if it can find one, or multiple\n * @param {number} index Index of the element. It is always 0, but can be set to a number (needs strict = false!)\n */\nexport function findElement(cssSelector, parentNode, strict = true, index = 0) {\n    const target = 'undefined' !== typeof parentNode && null !== parentNode ? query(cssSelector, parentNode) : query(cssSelector);\n    if (!target || 0 === target.length || 0 > index || index > target.length - 1) {\n        return null;\n    }\n    if (strict) {\n        return 1 === target.length ? target[ 0 ] : null;\n    }\n    return target[ index ];\n}\n\n/**\n *\n * @param {HTMLElement} parentNode\n * @param {HTMLElement} child\n * @returns boolean Is the child a descendant of parentNode\n */\nexport function isDescendant(parentNode, child) {\n    let node = child.parentNode;\n    while (null !== node) {\n        if (node === parentNode) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/widget-base-helpers/helpers/dom.js","module.exports = __WEBPACK_EXTERNAL_MODULE_14__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dojo/_base/array\"\n// module id = 14\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_15__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dojo/NodeList-traverse\"\n// module id = 15\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_16__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dojo/aspect\"\n// module id = 16\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_17__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dojo/dom-construct\"\n// module id = 17\n// module chunks = 0"],"sourceRoot":""}